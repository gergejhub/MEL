<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>MEL Dispatch Assistant (Offline Index)</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
<header class="topbar">
  <div class="brand">
    <div class="dot"></div>
    <div>
      <div class="title">MEL Dispatch Assistant</div>
      <div class="subtitle">Clean dispatch-releváns nézet • CSV + MEL PDF index (offline)</div>
    </div>
  </div>
  <div class="actions">
    <label class="btn">
      CSV feltöltés
      <input id="csvFile" type="file" accept=".csv,text/csv" hidden>
    </label>
    <button class="btn" id="csvPasteBtn">CSV beillesztés</button>
    <label class="btn">
      MEL PDF feltöltés (ellenőrzés)
      <input id="pdfFile" type="file" accept="application/pdf" hidden>
    </label>
    <button class="btn" id="handoverBtn">Handover export</button>
    <button class="btn danger" id="clearBtn">CSV törlés</button>
  </div>
</header>

<!-- Inline CSV paste panel (no modal) -->
<div class="pastePanel" id="pastePanel" hidden>
  <div class="pasteCard">
    <div class="pasteTitle">CSV beillesztés</div>
    <textarea id="csvPasteArea" placeholder="Illeszd be a teljes CSV tartalmát…"></textarea>
    <div class="pasteActions">
      <button class="btn" id="pasteImportBtn">Import</button>
      <button class="btn danger" id="pasteCloseBtn">Bezárás</button>
    </div>
  </div>
</div>

<main class="grid">
  <section class="panel left">
    <div class="panelHead">
      <div>
        <div class="h">Dispatch-releváns repülőgépek</div>
        <div class="meta" id="statusLine">Betöltés…</div>
      </div>
      <div class="pill" id="deltaPill" title="előző importhoz képest">Δ</div>
    </div>
    <div class="list" id="tailsList"></div>
    <div class="panelFoot">
      <div class="h2">Kiválasztott lajstrom – releváns MEL tételek</div>
      <div class="meta" id="selMeta">Válassz egy lajstromot bal oldalt.</div>
      <div class="list compact" id="selItems"></div>
    </div>
  </section>

  <section class="panel right">
    <div class="panelHead">
      <div>
        <div class="h" id="rightTitle">Teendők (dispatch)</div>
        <div class="meta">A jobb oldalon mindig csak az aktuálisan kiválasztott gép teendői látszanak.</div>
      </div>
      <button class="btn small" id="copyBtn">Másolás</button>
    </div>

    <div class="cols2">
      <div class="card">
        <div class="cardTitle">ICAO FPL változások (összegzett)</div>
        <div id="fplBox" class="mono"></div>
      </div>
      <div class="card">
        <div class="cardTitle">LIDO 4D / Dispatch teendők</div>
        <div id="lidoBox" class="mono"></div>
      </div>
    </div>

    <div class="card">
      <div class="cardTitle">Operációs korlátok / megjegyzések</div>
      <div id="opsBox" class="mono"></div>
    </div>

    <div class="card">
      <div class="cardTitle">Kódok magyarázata (FPL)</div>
      <div class="meta">A doboz a fenti FPL változások alapján automatikusan listázza a releváns kódokat.</div>
      <div id="glossaryBox" class="gloss"></div>
      <div class="meta">
        Részletek: <a href="https://www.eurocontrol.int/sites/default/files/2025-10/eurocontrol-ifps-user-manual-maint-2-external.pdf" target="_blank" rel="noreferrer">EUROCONTROL IFPS User Manual</a> •
        <a href="https://learningzone.eurocontrol.int/ilp/customs/FPL/" target="_blank" rel="noreferrer">EUROCONTROL Learning Zone</a>
      </div>
    </div>
  </section>
</main>


<script src="app.js"></script>
</body>
</html>
